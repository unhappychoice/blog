<!DOCTYPE html><html><head><meta content="text/html; charset=UTF-8" http-equiv=Content-Type /><meta charset=utf-8 /><meta content="IE=edge;chrome=1" http-equiv=X-UA-Compatible /><meta content="width=device-width, initial-scale=1" name=viewport /><link crossorigin=anonymous href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha256-7s5uDGW3AHqw6xtJmNNtr+OBRJUlgkNJEo78P4b0yRw= sha512-nNo+yCHEyn0smMxSswnf/OnX6/KwJuZTlNZBjauKhTK0c+zT+q5JOCx0UFhXQ6rJR9jg6Es8gPuD2uZcYDLqSw==" rel=stylesheet /><link href="//fonts.googleapis.com/earlyaccess/notosansjapanese.css" rel=stylesheet /><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel=stylesheet /><script src="https://code.jquery.com/jquery-2.2.0.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script><script crossorigin=anonymous integrity="sha256-KXn5puMvxCw+dAYznun+drMdG1IFl3agK0p/pqT9KAo= sha512-2e8qq0ETcfWRI4HJBzQiA3UoyFk6tbNyG+qSaIBZLyW9Xf3sWZHN/lxe9fTh1U45DpPf07yj94KsUHHWe4Yk1A==" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script><style>.highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .c, .highlight .cd {
  color: #75715e;
  font-style: italic;
}
.highlight .cm {
  color: #75715e;
  font-style: italic;
}
.highlight .c1 {
  color: #75715e;
  font-style: italic;
}
.highlight .cp {
  color: #75715e;
  font-weight: bold;
}
.highlight .cs {
  color: #75715e;
  font-weight: bold;
  font-style: italic;
}
.highlight .err {
  color: #960050;
  background-color: #1e0010;
}
.highlight .gi {
  color: #ffffff;
  background-color: #324932;
}
.highlight .gd {
  color: #ffffff;
  background-color: #493131;
}
.highlight .ge {
  color: #000000;
  font-style: italic;
}
.highlight .gr {
  color: #aa0000;
}
.highlight .gt {
  color: #aa0000;
}
.highlight .gh {
  color: #999999;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
  font-weight: bold;
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .k, .highlight .kv {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kc {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kd {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kp {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kr {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kt {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kn {
  color: #f92672;
  font-weight: bold;
}
.highlight .ow {
  color: #f92672;
  font-weight: bold;
}
.highlight .o {
  color: #f92672;
  font-weight: bold;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sc {
  color: #e6db74;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .sr {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .ss {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
  font-weight: bold;
}
.highlight .nd {
  color: #a6e22e;
  font-weight: bold;
}
.highlight .ne {
  color: #a6e22e;
  font-weight: bold;
}
.highlight .nf {
  color: #a6e22e;
  font-weight: bold;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .bp {
  color: #f8f8f2;
}
.highlight .nb {
  color: #f8f8f2;
}
.highlight .ni {
  color: #f8f8f2;
}
.highlight .nn {
  color: #f8f8f2;
}
.highlight .vc {
  color: #f8f8f2;
}
.highlight .vg {
  color: #f8f8f2;
}
.highlight .vi {
  color: #f8f8f2;
}
.highlight .nv {
  color: #f8f8f2;
}
.highlight .w {
  color: #f8f8f2;
}
.highlight .nl {
  color: #f8f8f2;
  font-weight: bold;
}
.highlight .nt {
  color: #f92672;
}
.highlight {
  color: #f8f8f2;
  background-color: #49483e;
}</style><link href="//unhappychoice.github.io/blog/stylesheets/all-5d28c8c8.css" rel=stylesheet /><script src="//unhappychoice.github.io/blog/javascripts/all-f07852d6.js"></script><title>unhappychoice - サンプル</title><link rel=alternate type="application/atom+xml" title="Atom Feed" href="/feed.xml"/><body><button class=toggle-menu type=button><span class="fa fa-bars"></span></button><aside id=sidebar><h3>最近の記事</h3><ol><li><a href="sample.html">サンプル</a></li><li><a href="../../../2012/01/02/example-article2.html">Example 2</a></li><li><a href="../../../2012/01/01/example-article.html">Example Article</a></li></ol><h3>タグ</h3><ol><li><a href="/tags/example.html">example<span class=badge>2</span></a></li><li><a href="/tags/qiita.html">qiita<span class=badge>1</span></a></li><li><a href="/tags/programming.html">programming<span class=badge>1</span></a></li></ol><h3>月別</h3><ol><li><a href="/2016/02.html">2016年 2月<span class=badge>1</span></a></li><li><a href="/2012/01.html">2012年 1月<span class=badge>2</span></a></li></ol></aside><div id=main role=main><div class=content><h1 class=title><img src="https://secure.gravatar.com/avatar/d75911a871edff466e3f05b152150be1?s=100"/><div class=icons><a href="https://github.com/unhappychoice"><span class="fa fa-github"></span></a><a href="https://www.facebook.com/profile.php?id=100008274691739"><span class="fa fa-facebook-square"></span></a><a href="https://www.linkedin.com/in/yuji-ueki-4a17a5101"><span class="fa fa-linkedin"></span></a></div>unhappychoice.com</h1><ol class=breadcrumb><li><a href="/">TOP</a></li><li><a href="../../../2016.html">2016年</a></li><li><a href="../../02.html">2月</a></li><li><a href="../05.html">5日</a></li></ol><h2 class=article-title>サンプル</h2><div class=meta><div class=time><span class="fa fa-clock-o"></span>02/05/16</div><div class=tags><span class="fa fa-tag"></span><a href="../../../tags/programming.html">programming </a></div></div><article><p>Markdown記法 表示確認用サンプル</p> <p>任意のアプリケーションで表示確認するためのサンプルです。 新しいアプリケーション入れたときなどに感じをつかむための自分用ですが、よろしければ置いておきますのでどうぞ。</p> <p><a title="forapp-markdown-sample.md - Dropbox" href="https://www.dropbox.com/s/4z6kot27jmikhx5/forapp-markdown-sample.md">forapp-markdown-sample.md - Dropbox</a></p> <p></p> <h1>見出し1</h1> <h2>見出し2</h2> <h3>見出し3</h3> <h4>見出し4</h4> <h5>見出し5</h5> <h6>見出し6</h6> <hr> <p>ここは段落（&lt;p&gt;）です。♪むかしむかし浦島が、助けた亀に連れられて。って浦島呼び捨てかよ！ さん付けしてやれよ！</p> <p>タグとして認識されたくない、表示したい文字の直前にエスケープ文字を記述します。</p> <pre class="highlight plaintext"><code>\&lt;p&gt;&lt;/p&gt;
</code></pre> <ul> <li><strong>強調 strongです。</strong> <strong>これも強調です。</strong> <strong>strongタグです。</strong></li> <li><em>斜体 italicです。</em> <em>これも斜体です。</em> <i>iタグです。</i></li> <li><strong><em>強調斜体です。</em></strong> <strong><em>強調斜体です。</em></strong> <em>emタグです。</em></li> <li>~~対応に差があるみたいだけど取り消し線。~~ <s>sタグです。</s></li> </ul> <blockquote> <p>引用します</p> <blockquote> <p>引用のネストです</p> </blockquote> <p>上に一行空けないとネストのままです</p> </blockquote> <hr> <p>水平線（&lt;hr&gt;）各種</p> <hr> <hr> <hr> <hr> <hr> <hr> <ul> <li>箇条書きリスト</li> <li>箇条書きリスト</li> <li>二階層め・箇条書きリスト</li> <li>箇条書きリスト</li> </ul> <hr> <ol> <li>番号付きリスト</li> <li>番号付きリスト</li> <li>二階層め・番号付きリスト</li> <li>三階層め・番号付きリスト</li> <li>三階層め・番号付きリスト</li> <li>二階層め・番号付きリスト</li> <li>番号付きリスト</li> </ol> <hr> <pre class="highlight plaintext"><code>バッククォート3個ずつでくくるとソースコード &lt;pre&gt;&lt;code&gt; です。
###ここにはMarkdown書式は効きません
/* コメント */
testtest // コメント
</code></pre> <pre class="highlight plaintext"><code>&lt;!DOCTYPE html&gt;
&lt;head&gt;
&lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
&lt;title&gt;&lt;/title&gt;
</code></pre> <pre class="highlight css"><code><span class="nt">body</span> <span class="p">{</span> <span class="nl">display</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span> <span class="p">}</span>
</code></pre> <pre class="highlight php"><code><span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nx">is_tag</span><span class="p">()){</span> <span class="nv">$posts</span> <span class="o">=</span> <span class="nx">query_posts</span><span class="p">(</span><span class="nv">$query_string</span> <span class="o">.</span> <span class="s1">'&amp;showposts=20'</span><span class="p">);</span> <span class="p">}</span> <span class="cp">?&gt;</span>
</code></pre> <p>バッククォート1個ずつで囲むとインラインのコード &lt;code&gt;</code> です。<code>body { visibility: hidden; }</code></p> <hr> <p>テキストリンク <a title="WIRED.jp" href="http://wired.jp/">WIRED.jp</a></p> <p>画像埋め込み <img title="//unhappychoice.github.io/blog/2016/02/05/salchu_image02.jpg" alt="うきっ！" src="http://mkb.salchu.net/image/salchu_image02.jpg"/></p> <hr> <table><thead> <tr> <th style="text-align: left">Left align</th> <th style="text-align: right">Right align</th> <th style="text-align: center">Center align</th> </tr> </thead><tbody> <tr> <td style="text-align: left">This</td> <td style="text-align: right">This</td> <td style="text-align: center">This</td> </tr> <tr> <td style="text-align: left">column</td> <td style="text-align: right">column</td> <td style="text-align: center">column</td> </tr> <tr> <td style="text-align: left">will</td> <td style="text-align: right">will</td> <td style="text-align: center">will</td> </tr> <tr> <td style="text-align: left">be</td> <td style="text-align: right">be</td> <td style="text-align: center">be</td> </tr> <tr> <td style="text-align: left">left</td> <td style="text-align: right">right</td> <td style="text-align: center">center</td> </tr> <tr> <td style="text-align: left">aligned</td> <td style="text-align: right">aligned</td> <td style="text-align: center">aligned</td> </tr> </tbody></table> <p>（Kobitoのヘルプmdから拝借しました）</p> <pre class="highlight java"><code><span class="kn">package</span> <span class="n">jp</span><span class="o">.</span><span class="na">dip</span><span class="o">.</span><span class="na">socialbuild</span><span class="o">.</span><span class="na">controller</span>

<span class="kn">import</span> <span class="nn">org.bukkit.event.Listener</span>
<span class="kn">import</span> <span class="nn">org.bukkit.event.EventHandler</span>
<span class="kn">import</span> <span class="nn">org.bukkit.event.player.PlayerInteractEvent</span>
<span class="kn">import</span> <span class="nn">org.bukkit.event.block.SignChangeEvent</span>
<span class="kn">import</span> <span class="nn">org.bukkit.event.block.BlockBreakEvent</span>
<span class="kn">import</span> <span class="nn">jp.dip.socialbuild.model.SocialBuildSign</span>
<span class="kn">import</span> <span class="nn">org.bukkit.block.Block</span>
<span class="kn">import</span> <span class="nn">org.bukkit.entity.Player</span>
<span class="kn">import</span> <span class="nn">jp.dip.socialbuild.extension.isSignItem</span>
<span class="kn">import</span> <span class="nn">org.bukkit.event.block.Action</span>
<span class="kn">import</span> <span class="nn">jp.dip.socialbuild.model.Good</span>
<span class="kn">import</span> <span class="nn">jp.dip.socialbuild.extension.uuid</span>
<span class="kn">import</span> <span class="nn">org.bukkit.block.Sign</span>
<span class="kn">import</span> <span class="nn">jp.dip.socialbuild.extension.canGood</span>
<span class="kn">import</span> <span class="nn">jp.dip.socialbuild.extension.canUnGood</span>
<span class="kn">import</span> <span class="nn">jp.dip.socialbuild.extension.isCreative</span>
<span class="kn">import</span> <span class="nn">jp.dip.socialbuild.model.SignText</span>
<span class="kn">import</span> <span class="nn">jp.dip.socialbuild.Notifier</span>
<span class="kn">import</span> <span class="nn">jp.dip.socialbuild.extension.canPlace</span>
<span class="kn">import</span> <span class="nn">jp.dip.socialbuild.extension.isAttachedSign</span>
<span class="kn">import</span> <span class="nn">jp.dip.socialbuild.extension.attachedSign</span>

<span class="cm">/**
* Created by unhappychoice on 2015/05/24.
*/</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SignEventsController</span> <span class="o">:</span> <span class="n">Listener</span> <span class="o">{</span>

  <span class="cm">/**
  * an event handler for placing sign
  */</span>
  <span class="n">EventHandler</span>
  <span class="kd">public</span> <span class="n">fun</span> <span class="n">onSignPlace</span><span class="o">(</span><span class="nl">e:</span> <span class="n">SignChangeEvent</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">val</span> <span class="n">player</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="na">getPlayer</span><span class="o">()</span>
    <span class="n">val</span> <span class="n">location</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="na">getBlock</span><span class="o">().</span><span class="na">getLocation</span><span class="o">()</span>
    <span class="n">val</span> <span class="n">lines</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="na">getLines</span><span class="o">().</span><span class="na">toList</span><span class="o">()</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">lines</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">!=</span> <span class="s">"[sb]"</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span>
    <span class="o">}</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">lines</span><span class="o">[</span><span class="mi">1</span><span class="o">].</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
      <span class="n">Notifier</span><span class="o">.</span><span class="na">fillInName</span><span class="o">(</span><span class="n">player</span><span class="o">)</span>
      <span class="k">return</span>
    <span class="o">}</span>

    <span class="n">val</span> <span class="n">sign</span> <span class="o">=</span> <span class="n">SocialBuildSign</span><span class="o">.</span><span class="na">build</span><span class="o">(</span><span class="n">player</span><span class="o">,</span> <span class="n">location</span><span class="o">,</span> <span class="n">lines</span><span class="o">)</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">player</span><span class="o">.</span><span class="na">canPlace</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">sign</span><span class="o">.</span><span class="na">save</span><span class="o">())</span> <span class="o">{</span>
      <span class="n">SignText</span><span class="o">.</span><span class="na">replaceSignText</span><span class="o">(</span><span class="n">e</span><span class="o">)</span>
      <span class="n">Notifier</span><span class="o">.</span><span class="na">createSign</span><span class="o">(</span><span class="n">player</span><span class="o">)</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
      <span class="n">Notifier</span><span class="o">.</span><span class="na">failToCreateSign</span><span class="o">(</span><span class="n">player</span><span class="o">)</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="cm">/**
  * an event handler for breaking sign
  */</span>
  <span class="n">EventHandler</span>
  <span class="kd">public</span> <span class="n">fun</span> <span class="n">onSignBreak</span><span class="o">(</span><span class="nl">e:</span> <span class="n">BlockBreakEvent</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// TODO: reconsider breaking process</span>

    <span class="n">val</span> <span class="n">block</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="na">getBlock</span><span class="o">()</span>
    <span class="n">val</span> <span class="n">player</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="na">getPlayer</span><span class="o">()</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">block</span><span class="o">.</span><span class="na">isSignItem</span><span class="o">())</span> <span class="o">{</span>
      <span class="n">SocialBuildSign</span><span class="o">.</span><span class="na">breakSign</span><span class="o">(</span><span class="n">block</span><span class="o">.</span><span class="na">getLocation</span><span class="o">(),</span> <span class="n">e</span><span class="o">,</span> <span class="n">player</span><span class="o">)</span>
    <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">block</span><span class="o">.</span><span class="na">isAttachedSign</span><span class="o">())</span> <span class="o">{</span>
      <span class="n">val</span> <span class="n">signs</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="na">attachedSign</span><span class="o">()</span>
      <span class="n">signs</span><span class="o">.</span><span class="na">forEach</span><span class="o">({</span>
        <span class="n">SocialBuildSign</span><span class="o">.</span><span class="na">breakSign</span><span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">getLocation</span><span class="o">(),</span> <span class="n">e</span><span class="o">,</span> <span class="n">player</span><span class="o">)</span>
      <span class="o">})</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="cm">/**
  * an event handler for clicking sign
  */</span>
  <span class="n">EventHandler</span>
  <span class="kd">public</span> <span class="n">fun</span> <span class="n">onClickSign</span><span class="o">(</span><span class="nl">e:</span> <span class="n">PlayerInteractEvent</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">val</span> <span class="n">block</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="na">getClickedBlock</span><span class="o">()</span>
    <span class="n">val</span> <span class="n">player</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="na">getPlayer</span><span class="o">()</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">block</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="o">!</span><span class="n">block</span><span class="o">.</span><span class="na">isSignItem</span><span class="o">())</span> <span class="o">{</span>
      <span class="k">return</span>
    <span class="o">}</span>

    <span class="n">val</span> <span class="n">sign</span> <span class="o">=</span> <span class="n">SocialBuildSign</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="n">block</span><span class="o">.</span><span class="na">getLocation</span><span class="o">())</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">sign</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span>
    <span class="o">}</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">player</span><span class="o">.</span><span class="na">isCreative</span><span class="o">())</span> <span class="o">{</span>
      <span class="n">e</span><span class="o">.</span><span class="na">setCancelled</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
    <span class="o">}</span>

    <span class="n">when</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getAction</span><span class="o">())</span> <span class="o">{</span>
      <span class="n">Action</span><span class="o">.</span><span class="na">LEFT_CLICK_BLOCK</span> <span class="o">-&gt;</span> <span class="n">leftClick</span><span class="o">(</span><span class="n">player</span><span class="o">,</span> <span class="n">sign</span><span class="o">,</span> <span class="n">block</span><span class="o">)</span>
      <span class="n">Action</span><span class="o">.</span><span class="na">RIGHT_CLICK_BLOCK</span> <span class="o">-&gt;</span> <span class="n">rightClick</span><span class="o">(</span><span class="n">player</span><span class="o">,</span> <span class="n">sign</span><span class="o">,</span> <span class="n">block</span><span class="o">)</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="c1">// ---------------------------------------------------------------------------------------------</span>
  <span class="c1">// private</span>

  <span class="kd">private</span> <span class="n">fun</span> <span class="n">leftClick</span><span class="o">(</span><span class="nl">player:</span> <span class="n">Player</span><span class="o">,</span> <span class="nl">sign:</span> <span class="n">SocialBuildSign</span><span class="o">,</span> <span class="nl">block:</span> <span class="n">Block</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">player</span><span class="o">.</span><span class="na">canGood</span><span class="o">(</span><span class="n">sign</span><span class="o">))</span> <span class="o">{</span>
      <span class="n">Good</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">player</span><span class="o">.</span><span class="na">uuid</span><span class="o">(),</span> <span class="n">sign</span><span class="o">.</span><span class="na">params</span><span class="o">.</span><span class="na">id</span><span class="o">).</span><span class="na">save</span><span class="o">()</span>
      <span class="n">sign</span><span class="o">.</span><span class="na">updateGoodCount</span><span class="o">(</span><span class="n">block</span><span class="o">.</span><span class="na">getState</span><span class="o">()</span> <span class="n">as</span> <span class="n">Sign</span><span class="o">)</span>
      <span class="n">Notifier</span><span class="o">.</span><span class="na">sentGood</span><span class="o">(</span><span class="n">player</span><span class="o">)</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
      <span class="n">Notifier</span><span class="o">.</span><span class="na">failToSendGood</span><span class="o">(</span><span class="n">player</span><span class="o">)</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">private</span> <span class="n">fun</span> <span class="n">rightClick</span><span class="o">(</span><span class="nl">player:</span> <span class="n">Player</span><span class="o">,</span> <span class="nl">sign:</span> <span class="n">SocialBuildSign</span><span class="o">,</span> <span class="nl">block:</span> <span class="n">Block</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">player</span><span class="o">.</span><span class="na">canUnGood</span><span class="o">(</span><span class="n">sign</span><span class="o">))</span> <span class="o">{</span>
      <span class="n">Good</span><span class="o">.</span><span class="na">where</span><span class="o">(</span><span class="n">player</span><span class="o">.</span><span class="na">uuid</span><span class="o">(),</span> <span class="n">sign</span><span class="o">.</span><span class="na">params</span><span class="o">.</span><span class="na">id</span><span class="o">)?.</span><span class="na">destroy</span><span class="o">()</span>
      <span class="n">sign</span><span class="o">.</span><span class="na">updateGoodCount</span><span class="o">(</span><span class="n">block</span><span class="o">.</span><span class="na">getState</span><span class="o">()</span> <span class="n">as</span> <span class="n">Sign</span><span class="o">)</span>
      <span class="n">Notifier</span><span class="o">.</span><span class="na">cancelGood</span><span class="o">(</span><span class="n">player</span><span class="o">)</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
      <span class="n">Notifier</span><span class="o">.</span><span class="na">failToCancelGood</span><span class="o">(</span><span class="n">player</span><span class="o">)</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre> </article><div class=prev><a href="../../../2012/01/02/example-article2.html">前の記事へ</a></div></div></div></body></head></html>